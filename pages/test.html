<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        #container{
            position: relative;
        }
        .box{
            padding: 5px;
            float: left;
        }
        .box_img{
            padding: 5px;
            border: 1px solid #23b684;
            box-shadow: 0 0 5px #ccc;
            border-radius: 5px;
        }
        .box_img img{
            width: 150px;
            height: auto;
        }
    </style>
</head>
<body>
    <!--855px-->
<div id="container">
    <div class="box">
        <div class="box_img" >
            <img src="../img/1.jpg">
        </div>
    </div>
    <div class="box">
        <div class="box_img" >
            <img src="../img/2.jpg">
        </div>
    </div>
    <div class="box">
        <div class="box_img" >
            <img src="../img/3.jpg">
        </div>
    </div>
    <div class="box">
        <div class="box_img" >
            <img src="../img/4.jpg">
        </div>
    </div>
    <div class="box">
        <div class="box_img" >
            <img src="../img/5.jpg">
        </div>
    </div>
    <div class="box">
        <div class="box_img" >
            <img src="../img/6.jpg">
        </div>
    </div>
    <div class="box">
        <div class="box_img" >
            <img src="../img/7.jpg">
        </div>
    </div>
    <div class="box">
        <div class="box_img" >
            <img src="../img/8.jpg">
        </div>
    </div>
    <div class="box">
        <div class="box_img" >
            <img src="../img/9.jpg">
        </div>
    </div>
    <div class="box">
        <div class="box_img" >
            <img src="../img/1.jpg">
        </div>
    </div>
    <div class="box">
        <div class="box_img" >
            <img src="../img/2.jpg">
        </div>
    </div>
    <div class="box">
        <div class="box_img" >
            <img src="../img/3.jpg">
        </div>
    </div>
    <div class="box">
        <div class="box_img" >
            <img src="../img/4.jpg">
        </div>
    </div>
    <div class="box">
        <div class="box_img" >
            <img src="../img/5.jpg">
        </div>
    </div>
    <div class="box">
        <div class="box_img" >
            <img src="../img/6.jpg">
        </div>
    </div>
    <div class="box">
        <div class="box_img" >
            <img src="../img/7.jpg">
        </div>
    </div>
    <div class="box">
        <div class="box_img" >
            <img src="../img/8.jpg">
        </div>
    </div>
    <div class="box">
        <div class="box_img" >
            <img src="../img/9.jpg">
        </div>
    </div>    <div class="box">
    <div class="box_img" >
        <img src="../img/1.jpg">
    </div>
</div>
    <div class="box">
        <div class="box_img" >
            <img src="../img/2.jpg">
        </div>
    </div>
    <div class="box">
        <div class="box_img" >
            <img src="../img/3.jpg">
        </div>
    </div>
    <div class="box">
        <div class="box_img" >
            <img src="../img/4.jpg">
        </div>
    </div>
    <div class="box">
        <div class="box_img" >
            <img src="../img/5.jpg">
        </div>
    </div>
    <div class="box">
        <div class="box_img" >
            <img src="../img/6.jpg">
        </div>
    </div>
    <div class="box">
        <div class="box_img" >
            <img src="../img/7.jpg">
        </div>
    </div>
    <div class="box">
        <div class="box_img" >
            <img src="../img/8.jpg">
        </div>
    </div>
    <div class="box">
        <div class="box_img" >
            <img src="../img/9.jpg">
        </div>
    </div>
</div>
<script>
    window.onload = function(){
        imgLocation("container","box");
    }
    function imgLocation(parent,content){
        var cparent = document.getElementById(parent);
        var ccontent = getChildElement(cparent,content);
        var imgWidth = ccontent[0].offsetWidth;
        var num = Math.floor(document.documentElement.clientWidth/imgWidth);
        cparent.style.cssText = "width:" + imgWidth * num + "px;margin:0 auto";

        var BoxHeightArr = [];
        for(var i = 0;i < ccontent.length;i++ ){
            if(i < num){
                BoxHeightArr[i] = ccontent[i].offsetHeight;
            }else{
                var minHeight = Math.min.apply(null,BoxHeightArr);
                var minIndex = getMinHeightLocation(BoxHeightArr,minHeight);
                ccontent[i].style.position = "absolute";
                ccontent[i].style.top = minHeight + "px";
                ccontent[i].style.left = ccontent[minIndex].offsetLeft + "px";
                BoxHeightArr[minIndex] = BoxHeightArr[minIndex] + ccontent[i].offsetHeight;
            }
        }
    }

    function getMinHeightLocation(BoxHeightArr,minHeight){
            for(var i in BoxHeightArr){
                if(BoxHeightArr[i] == minHeight){
                    return i;
                }
            }
    }
    function getChildElement(parent,content){
        var contentArr= [];
        var allcontent = parent.getElementsByTagName("*");
        for(var i = 0; i < allcontent.length;i++){
            if(allcontent[i].className == content){
                contentArr.push(allcontent[i]);
            }
        }
        return contentArr;
    }
</script>
</body>
</html>